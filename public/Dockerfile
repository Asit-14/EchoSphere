FROM node:16-alpine

WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3000

# Create a .env file at build time
ARG REACT_APP_API_URL
ARG REACT_APP_LOCALHOST_KEY
ENV REACT_APP_API_URL=${REACT_APP_API_URL}
ENV REACT_APP_LOCALHOST_KEY=${REACT_APP_LOCALHOST_KEY}

CMD ["npm","start"]